/* ============================================ */
/* ДОБАВЛЕНИЯ/ИСПРАВЛЕНИЯ для Двух Панелей */
/* ============================================ */

/* --- Общий стиль для боковых панелей --- */
.side-panel {
    position: fixed; /* ФИКСИРОВАННОЕ ПОЗИЦИОНИРОВАНИЕ */
    top: 0;
    width: 90%; /* Ширина панелей */
    max-width: 380px; /* Макс ширина */
    height: 100%;
    background-color: var(--container-background-color); /* Используем фон контейнера */
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.5); /* Тень для выделения */
    transition: transform 0.3s ease-in-out; /* Анимация выдвижения */
    z-index: 1000; /* Поверх основного контента */
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    overflow-y: auto; /* Скролл внутри панели */
}

/* --- Панель Списков (#favorites-panel) --- */
#favorites-panel {
    right: 0; /* Прижимаем к правому краю */
    left: auto;
    transform: translateX(100%); /* Скрыта за правым краем */
    border-left: 2px solid var(--primary-color); /* Акцентная граница */
}
#favorites-panel.open {
    transform: translateX(0); /* Выдвигаем влево */
}

/* --- Панель Репертуара (#repertoire-panel) --- */
#repertoire-panel {
    left: 0; /* Прижимаем к левому краю */
    right: auto;
    transform: translateX(-100%); /* Скрыта за левым краем */
    border-right: 2px solid var(--primary-color); /* Акцентная граница */
}
#repertoire-panel.open {
    transform: translateX(0); /* Выдвигаем вправо */
}

/* --- Кнопки открытия панелей --- */
/* Кнопка "Список" (стилизуем по ID, т.к. .toggle-favorites мог быть для старой кнопки) */
#toggle-favorites {
    position: fixed;
    top: 10px;
    right: 10px; /* Справа */
    left: auto;
    width: 50px; /* Размер как был */
    height: 50px;
    border-radius: 50%;
    z-index: 1001; /* Поверх панелей */
    /* Стиль кнопки (градиент и т.д.) уже задан базовым правилом 'button' */
}
/* НОВАЯ Кнопка "Репертуар" */
#toggle-repertoire {
    position: fixed;
    top: 10px;
    left: 10px; /* Слева */
    right: auto;
    width: auto; /* Ширина по контенту */
    height: 50px; /* Высота как у правой кнопки */
    padding-left: 15px; /* Отступы для текста */
    padding-right: 15px;
    border-radius: var(--radius); /* Обычное скругление */
    z-index: 1001;
    /* Стиль кнопки (градиент и т.д.) уже задан базовым правилом 'button' */
}

/* --- Стили для содержимого панелей (заголовки, списки) --- */
/* Заголовки внутри панелей */
.list-section h3,
#repertoire-panel h3 {
    font-size: 1.1rem;
    margin-top: 0;
    margin-bottom: 15px;
    color: var(--accent-color);
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 8px;
    text-align: left; /* Выравнивание влево */
}
#repertoire-panel h3 span { /* Имя вокалиста */
     font-weight: normal;
     color: var(--text-color);
     font-size: 0.9em;
}
/* Контейнеры списков внутри панелей */
.favorites-list, .shared-songs-list, /* Старые классы */
.list-container /* Общий класс из последней версии HTML для списков */
{
    max-height: 250px; /* Ограничиваем высоту */
    overflow-y: auto;
    margin-bottom: 10px; /* Отступ под списком */
    /* Стилизация скроллбара (опционально) */
    &::-webkit-scrollbar { width: 6px; }
    &::-webkit-scrollbar-track { background: var(--border-color); border-radius: 3px;}
    &::-webkit-scrollbar-thumb { background: var(--primary-color); border-radius: 3px;}
}
/* Элементы списков */
.favorite-item, .shared-item, .repertoire-item {
    /* Стили из вашего CSS #55 в основном подходят */
    display: flex; justify-content: space-between; align-items: center;
    padding: 10px 5px; /* Добавим отступ справа */
    border-bottom: 1px solid var(--border-color);
    cursor: pointer; transition: background 0.2s ease; font-size: 0.9rem;
}
.favorite-item:last-child, .shared-item:last-child, .repertoire-item:last-child { border-bottom: none; }
.favorite-item:hover, .shared-item:hover, .repertoire-item:hover { background-color: var(--hover-color); }
.list-container .song-name { flex-grow: 1; margin-right: 8px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }
.empty-message { padding: 15px; text-align: center; color: var(--label-color); font-style: italic; font-size: 0.9rem; }

/* Кнопки удаления в списках (переопределяем базовый стиль button) */
.remove-button, .delete-button {
    background: none !important;
    border: none !important;
    color: var(--danger-color) !important;
    box-shadow: none !important;
    padding: 0 5px !important; /* Минимальный паддинг */
    font-size: 1.1rem !important;
    line-height: 1 !important;
    flex-shrink: 0;
    min-width: auto !important; height: auto !important; /* Сброс размеров */
    transition: color 0.2s ease !important;
}
.remove-button:hover, .delete-button:hover { color: #ff1a1a !important; transform: none !important; box-shadow: none !important;}
.remove-button:active, .delete-button:active { transform: none !important; box-shadow: none !important; }

/* Стили для группировки репертуара */
.repertoire-key-heading { font-size: 0.9rem; font-weight: 600; color: var(--text-color); background-color: var(--input-bg-color); padding: 6px 10px; margin-top: 12px; margin-bottom: 5px; border-radius: 4px; border-left: 3px solid var(--primary-color); }
.repertoire-sheet-heading { font-size: 0.8rem; font-weight: 500; color: var(--label-color); padding: 3px 10px 3px 15px; margin-top: 5px; }
#repertoire-panel .list-container > .repertoire-key-heading:first-child { margin-top: 0; } /* Убираем отступ у первого заголовка */
#repertoire-panel .repertoire-item { padding-left: 20px; /* Отступ для песен под заголовками */ }

/* --- Центрирование YouTube и Loading --- */
#youtube-player-section {
     max-width: 600px; /* Ограничиваем ширину как у .container */
     margin: 25px auto 15px auto; /* Центрируем и добавляем отступы */
}
#loading-indicator {
    /* Стили из вашего CSS #55 должны работать */
     display: none; position: fixed; top: 15px; left: 50%; transform: translateX(-50%); background-color: rgba(40, 40, 40, 0.85); color: white; padding: 8px 18px; border-radius: var(--radius); z-index: 1002; font-size: 0.9rem; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* Адаптивность (можно скопировать из вашего CSS #55) */
/* @media (max-width: 768px) { ... } */
/* @media (max-width: 480px) { ... } */
/* Важно: внутри медиа-запросов могут понадобиться корректировки для новых кнопок/панелей, если они плохо отображаются на мобильных */
